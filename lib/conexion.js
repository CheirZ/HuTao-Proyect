/*
   - C贸digo realizado por: DevAlexJs
   - github.com/DevAlexJs
*/

const _0x2576b6=_0x5611;(function(_0x12cfbc,_0xcf230e){const _0x761c16=_0x5611,_0x558ad1=_0x12cfbc();while(!![]){try{const _0x1f96a6=parseInt(_0x761c16(0xa3))/0x1+parseInt(_0x761c16(0x82))/0x2+parseInt(_0x761c16(0x8a))/0x3*(-parseInt(_0x761c16(0x73))/0x4)+parseInt(_0x761c16(0x8d))/0x5+parseInt(_0x761c16(0x90))/0x6*(parseInt(_0x761c16(0xb0))/0x7)+parseInt(_0x761c16(0xaf))/0x8*(-parseInt(_0x761c16(0x77))/0x9)+parseInt(_0x761c16(0x85))/0xa;if(_0x1f96a6===_0xcf230e)break;else _0x558ad1['push'](_0x558ad1['shift']());}catch(_0x29c871){_0x558ad1['push'](_0x558ad1['shift']());}}}(_0x2dcf,0xaa73f));import{DisconnectReason,useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,Browsers,makeWASocket}from'@whiskeysockets/baileys';import _0xc0c74a from'fs';import _0x593a1f from'path';import _0x473ada from'pino';import _0x24fadc from'chalk';import _0x4ad675 from'qrcode';import _0x2572f6 from'./store.js';import _0x5e0be6 from'node-cache';import{handler,participantsUpdate,groupsUpdate}from'../handler.js';const JADIBTS_DIR=_0x593a1f[_0x2576b6(0x86)](_0x593a1f['dirname'](new URL(import.meta[_0x2576b6(0xa0)])[_0x2576b6(0x81)]),_0x2576b6(0xb7)+jadi);function _0x2dcf(){const _0x2329ae=['connectionLost','keys','INFO:','bind','handler','whiteBright','37516BrhQIw','readdirSync','parse','[\x20\x20]\x20C贸digo:\x20','11024298lcDhUr','connection.update','mkdirSync','match',',\x20reiniciando','fstop','log','fatal','message','No\x20v谩lido','pathname','52604qRNytF','sendMessage','requestPairingCode','12955650PmqYXf','join','error','key','credsUpdate','438BjZNiz','output',')\x20+','5805875gmrYYY','includes','\x20Error\x20en\x20la\x20generaci贸n\x20de\x20QR\x20o\x20c贸digo','30RXCncE','creds','splice','chats','conns','jid','creds.update','Sesi贸n\x20reemplazada\x20+','now','catch','connectionUpdate','bgGreen','macOS','open','../handler.js?update=','\x20Hubo\x20un\x20problema\x20al\x20generar\x20el\x20acceso.\x20Intenta\x20de\x20nuevo\x20m谩s\x20tarde','url','push','sender','695844uhJhQw','rmSync','\x20Error\x20al\x20actualizar\x20handler','messages.upsert','indexOf','close','toBuffer','utf8','loadMessage','WARNING:','\x20Conectado','\x20SubBot\x20\x22','8PKrGOA','158963WzjxTr','Reinicio\x20autom谩tico\x20+','magentaBright','\x20No\x20hay\x20sub-bots\x20guardados','existsSync','readFileSync','Corrupci贸n\x20de\x20sesi贸n\x20+','../','bold','\x20Sesi贸n\x20inv谩lida\x20eliminada\x20para\x20\x22','values','silent','bgRed','basename','split','creds.json','removeAllListeners','payload'];_0x2dcf=function(){return _0x2329ae;};return _0x2dcf();}globalThis[_0x2576b6(0x94)]=globalThis['conns']||[];export async function startSub(){const _0x3936c0=_0x2576b6;if(!_0xc0c74a[_0x3936c0(0xb4)](JADIBTS_DIR))console[_0x3936c0(0x7d)](_0x3936c0(0xb3));const _0x5890fe=_0xc0c74a[_0x3936c0(0x74)](JADIBTS_DIR);for(const _0x42f69c of _0x5890fe)await startSubBotIfValid(_0x42f69c);}async function startSubBotIfValid(_0xa8e83a){const _0x412c75=_0x2576b6,_0x44d329=_0x593a1f[_0x412c75(0x86)](JADIBTS_DIR,_0xa8e83a,_0x412c75(0x6a));if(!_0xc0c74a[_0x412c75(0xb4)](_0x44d329))return;const _0x102904=JSON[_0x412c75(0x75)](_0xc0c74a[_0x412c75(0xb5)](_0x44d329,_0x412c75(0xaa)));if(_0x102904[_0x412c75(0x7c)])return;await startSubBotInstance(_0xa8e83a,_0x102904);}async function startSubBotInstance(_0x2edc29,_0x3db1fc){const _0x1cb902=_0x2576b6,_0x46398c=_0x593a1f[_0x1cb902(0x86)](JADIBTS_DIR,_0x2edc29),{state:_0xe26dd9,saveCreds:_0x3cc56a}=await useMultiFileAuthState(_0x46398c),_0x152476=makeCacheableSignalKeyStore(_0xe26dd9[_0x1cb902(0x6e)],_0x473ada({'level':'silent'})),{version:_0x448133}=await fetchLatestBaileysVersion();let _0x50b25f=makeWASocket({'auth':{'creds':_0xe26dd9[_0x1cb902(0x91)],'keys':_0x152476},'browser':Browsers[_0x1cb902(0x9c)]('Desktop'),'logger':_0x473ada({'level':_0x1cb902(0xbb)}),'markOnlineOnConnect':!![],'version':_0x448133,'getMessage':async _0x9d0b9e=>{const _0x367fe4=_0x1cb902,_0x593808=jidNormalizedUser(_0x9d0b9e['remoteJid']);return _0x2572f6[_0x367fe4(0xab)](_0x593808,_0x9d0b9e['id'])?.[_0x367fe4(0x7f)]||'';}});_0x50b25f['isInit']=![],_0x50b25f['ev']['on']('connection.update',_0x1bc91f=>handleConnectionUpdate(_0x50b25f,_0x1bc91f,_0x2edc29,_0x3cc56a)),await loadHandler(_0x50b25f),globalThis[_0x1cb902(0x94)][_0x1cb902(0xa1)](_0x50b25f),console['log'](_0x1cb902(0xae)+_0x2edc29+'\x22\x20iniciado\x20correctamente'),setInterval(async()=>{const _0x2c4ee9=_0x1cb902;if(!_0x50b25f?.['user']){try{_0x50b25f?.['ws']?.[_0x2c4ee9(0xa8)]?.();}catch{}_0x50b25f['ev']['removeAllListeners']();const _0x3412df=globalThis[_0x2c4ee9(0x94)][_0x2c4ee9(0xa7)](_0x50b25f);if(_0x3412df>=0x0)globalThis['conns'][_0x2c4ee9(0x92)](_0x3412df,0x1);}},0xea60);}async function handleConnectionUpdate(_0x187548,_0x18c9cb,_0xa18209,_0x588b37){const _0xff21ae=_0x2576b6,{connection:_0x1406a5,lastDisconnect:_0x659c1a}=_0x18c9cb,_0x156aab=_0x593a1f[_0xff21ae(0x86)](JADIBTS_DIR,_0xa18209);if(_0x1406a5==='open'){_0x187548['isInit']=!![];const _0x18952a=_0x187548['authState'][_0xff21ae(0x91)]?.['me']?.[_0xff21ae(0x95)]||_0xa18209;console['log'](_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0x72)][_0xff21ae(0x9b)](_0xff21ae(0x6f))+'\x20'+_0x24fadc['bold']['cyanBright']('+'+_0x18952a[_0xff21ae(0x69)]('@')[0x0]+_0xff21ae(0xad))),globalThis[_0xff21ae(0x94)]['push'](_0x187548);}if(_0x1406a5===_0xff21ae(0xa8)){const _0x5384fe=_0x659c1a?.['error']?.[_0xff21ae(0x8b)]?.['statusCode']||_0x659c1a?.[_0xff21ae(0x87)]?.[_0xff21ae(0x8b)]?.[_0xff21ae(0x6c)]?.['statusCode'];[0x1ac,DisconnectReason['connectionClosed'],DisconnectReason[_0xff21ae(0x6d)],0x198][_0xff21ae(0x8e)](_0x5384fe)&&(console[_0xff21ae(0x7d)](_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0x72)]['bgRed'](_0xff21ae(0xac))+'\x20'+_0x24fadc['bold']['magentaBright']('Reconectando\x20+'+_0x593a1f[_0xff21ae(0x68)](_0x156aab))),await creloadHandler(_0x187548,_0x588b37,!![])[_0xff21ae(0x99)](console[_0xff21ae(0x87)])),_0x5384fe===0x1b8&&console[_0xff21ae(0x7d)](_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0x72)][_0xff21ae(0x67)](_0xff21ae(0xac))+'\x20'+_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0xb2)](_0xff21ae(0x97)+_0x593a1f['basename'](_0x156aab))),[0x193,0x195,0x191]['includes'](_0x5384fe)&&(console['log'](_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0x72)][_0xff21ae(0x67)](_0xff21ae(0xac))+'\x20'+_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0xb2)]('Sesi贸n\x20cerrada\x20o\x20inv谩lida\x20+'+_0x593a1f[_0xff21ae(0x68)](_0x156aab))),_0xc0c74a['rmSync'](_0x156aab,{'recursive':!![]})),_0x5384fe===0x1f4&&(console[_0xff21ae(0x7d)](_0x24fadc['bold'][_0xff21ae(0x72)][_0xff21ae(0x67)]('WARNING:')+'\x20'+_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0xb2)](_0xff21ae(0xb6)+_0x593a1f[_0xff21ae(0x68)](_0x156aab)+_0xff21ae(0x7b))),await creloadHandler(_0x187548,_0x588b37,!![])[_0xff21ae(0x99)](console[_0xff21ae(0x87)]),_0xc0c74a[_0xff21ae(0xa4)](_0x156aab,{'recursive':!![]})),_0x5384fe===0x203&&(console[_0xff21ae(0x7d)](_0x24fadc['bold'][_0xff21ae(0x72)][_0xff21ae(0x67)]('WARNING:')+'\x20'+_0x24fadc['bold'][_0xff21ae(0xb2)](_0xff21ae(0xb1)+_0x593a1f[_0xff21ae(0x68)](_0x156aab))),await creloadHandler(_0x187548,_0x588b37,!![])[_0xff21ae(0x99)](console['error'])),!Object[_0xff21ae(0xba)](DisconnectReason)[_0xff21ae(0x8e)](_0x5384fe)&&(console['log'](_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0x72)]['bgRed']('WARNING:')+'\x20'+_0x24fadc[_0xff21ae(0xb8)][_0xff21ae(0xb2)]('Desconexi贸n\x20inesperada\x20('+_0x5384fe+_0xff21ae(0x8c)+_0x593a1f[_0xff21ae(0x68)](_0x156aab))),await creloadHandler(_0x187548,_0x588b37,!![])[_0xff21ae(0x99)](console[_0xff21ae(0x87)])),await restartSubBot(_0x187548,_0xa18209);}}async function restartSubBot(_0x402ec1,_0x375ae1){const _0x50bf58=_0x2576b6,_0x443fbe=_0x593a1f[_0x50bf58(0x86)](JADIBTS_DIR,_0x375ae1,_0x50bf58(0x6a));if(!_0xc0c74a[_0x50bf58(0xb4)](_0x443fbe))return;const _0x1eaa33=_0xc0c74a[_0x50bf58(0xb5)](_0x443fbe,_0x50bf58(0xaa));await startSubBotInstance(_0x375ae1,_0x1eaa33)[_0x50bf58(0x99)](()=>{const _0x5a1c5a=_0x50bf58;_0xc0c74a[_0x5a1c5a(0xa4)](_0x593a1f['join'](JADIBTS_DIR,_0x375ae1),{'recursive':!![]}),console[_0x5a1c5a(0x7d)](_0x5a1c5a(0xb9)+_0x375ae1+'\x22');});}async function loadHandler(_0x5090a2){const _0x103e68=_0x2576b6,_0x358f4c=await import(_0x103e68(0x9e)+Date[_0x103e68(0x98)]());_0x5090a2[_0x103e68(0x71)]=_0x358f4c[_0x103e68(0x71)]?.[_0x103e68(0x70)](_0x5090a2),_0x5090a2['ev']['on'](_0x103e68(0xa6),_0x5090a2['handler']);}async function creloadHandler(_0x55aa6c,_0x167a5d,_0x1f0f96=![]){const _0x54ed00=_0x2576b6;try{const _0x49d441=await import(_0x54ed00(0x9e)+Date[_0x54ed00(0x98)]());if(_0x49d441?.[_0x54ed00(0x71)])handler=_0x49d441;}catch(_0x270fa4){console[_0x54ed00(0x87)](_0x54ed00(0xa5),_0x270fa4);}if(_0x1f0f96){const _0x4b2804=_0x55aa6c?.[_0x54ed00(0x93)]??{};try{_0x55aa6c?.['ws']?.[_0x54ed00(0xa8)]?.();}catch{}_0x55aa6c['ev'][_0x54ed00(0x6b)](),_0x55aa6c=makeWASocket(connectionOptions,{'chats':_0x4b2804}),isInit=!![];}return _0x55aa6c[_0x54ed00(0x71)]=handler[_0x54ed00(0x71)]?.[_0x54ed00(0x70)](_0x55aa6c),_0x55aa6c[_0x54ed00(0x9a)]=handleConnectionUpdate[_0x54ed00(0x70)](null,_0x55aa6c,undefined,undefined,_0x167a5d),_0x55aa6c[_0x54ed00(0x89)]=_0x167a5d?.['bind'](_0x55aa6c,!![]),_0x55aa6c['ev']['on'](_0x54ed00(0xa6),_0x55aa6c[_0x54ed00(0x71)]),_0x55aa6c['ev']['on']('connection.update',_0x55aa6c[_0x54ed00(0x9a)]),_0x55aa6c['ev']['on'](_0x54ed00(0x96),_0x55aa6c['credsUpdate']),isInit=![],!![];}function _0x5611(_0x46ffb7,_0x193ef8){const _0x2dcfaf=_0x2dcf();return _0x5611=function(_0x5611e1,_0x42548a){_0x5611e1=_0x5611e1-0x67;let _0x383c32=_0x2dcfaf[_0x5611e1];return _0x383c32;},_0x5611(_0x46ffb7,_0x193ef8);}export async function startSubDynamic(_0x3e1bd4,_0x823f1f,_0x2e16ba,_0x3cb385,_0x583cf2,_0x15d31c,_0x426ba9){const _0x48a2dc=_0x2576b6,_0x4b6f22=''+_0x583cf2,_0x1d8e86=_0x593a1f[_0x48a2dc(0x86)](JADIBTS_DIR,_0x4b6f22);if(!_0xc0c74a[_0x48a2dc(0xb4)](_0x1d8e86))_0xc0c74a[_0x48a2dc(0x79)](_0x1d8e86,{'recursive':!![]});const {version:_0x7b093}=await fetchLatestBaileysVersion(),_0x2ab097=new _0x5e0be6(),_0x56313f=_0x338cca=>{},{state:_0x1ca2c2,saveCreds:_0x3f4ce8}=await useMultiFileAuthState(JADIBTS_DIR),_0x3bcd91={'logger':_0x473ada({'level':_0x48a2dc(0x7e)}),'printQRInTerminal':![],'auth':{'creds':_0x1ca2c2[_0x48a2dc(0x91)],'keys':makeCacheableSignalKeyStore(_0x1ca2c2[_0x48a2dc(0x6e)],_0x473ada({'level':_0x48a2dc(0xbb)}))},'msgRetry':_0x56313f,'msgRetryCache':_0x2ab097,'browser':Browsers[_0x48a2dc(0x9c)]('Chrome'),'version':_0x7b093,'generateHighQualityLinkPreview':!![]},_0x156fc3=makeWASocket(_0x3bcd91);_0x156fc3['ev']['on'](_0x48a2dc(0x78),async({connection:_0x30a047,qr:_0x22fa5d})=>{const _0x43b052=_0x48a2dc;if(_0x30a047===_0x43b052(0x9d))globalThis[_0x43b052(0x94)][_0x43b052(0xa1)](_0x156fc3);if(!_0x426ba9?.[_0x3e1bd4[_0x43b052(0xa2)]])return;try{if(_0x22fa5d){if(!_0x3cb385){const _0x588ab3=await _0x4ad675[_0x43b052(0xa9)](_0x22fa5d,{'scale':0x8}),_0x2ccf0a=await _0x823f1f[_0x43b052(0x83)](_0x15d31c,{'image':_0x588ab3,'caption':_0x2e16ba},{'quoted':_0x3e1bd4});setTimeout(()=>{const _0x5115cd=_0x43b052;if(_0x2ccf0a?.[_0x5115cd(0x88)])_0x823f1f['sendMessage'](_0x15d31c,{'delete':_0x2ccf0a[_0x5115cd(0x88)]})[_0x5115cd(0x99)](()=>{});},0xafc8);}else{let _0x22d239=await _0x156fc3[_0x43b052(0x84)](_0x583cf2);_0x22d239=_0x22d239?.[_0x43b052(0x7a)](/.{1,4}/g)?.[_0x43b052(0x86)]('-')||_0x43b052(0x80);const _0x13983f=await _0x823f1f['sendMessage'](_0x15d31c,{'image':{'url':'https://files.catbox.moe/re5wkq.jpg'},'caption':_0x2e16ba},{'quoted':_0x3e1bd4}),_0x459430=await _0x823f1f['sendMessage'](_0x15d31c,{'text':_0x43b052(0x76)+_0x22d239},{'quoted':_0x3e1bd4});setTimeout(()=>{const _0x1e1010=_0x43b052;if(_0x13983f?.[_0x1e1010(0x88)])_0x823f1f[_0x1e1010(0x83)](_0x15d31c,{'delete':_0x13983f['key']})[_0x1e1010(0x99)](()=>{});if(_0x459430?.[_0x1e1010(0x88)])_0x823f1f['sendMessage'](_0x15d31c,{'delete':_0x459430[_0x1e1010(0x88)]})[_0x1e1010(0x99)](()=>{});},0xea60);}delete _0x426ba9[_0x3e1bd4[_0x43b052(0xa2)]];}}catch(_0x3dc274){console['error'](_0x43b052(0x8f),_0x3dc274),await _0x823f1f[_0x43b052(0x83)](_0x15d31c,{'text':_0x43b052(0x9f),'quoted':_0x3e1bd4}),delete _0x426ba9[_0x3e1bd4[_0x43b052(0xa2)]];}}),await loadHandler(_0x156fc3);}