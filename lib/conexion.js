/*
   - Código realizado por: DevAlexJs
   - github.com/DevAlexJs
*/

const _0x36b904=_0x28d9;(function(_0x300d8e,_0x51f72f){const _0x3d2159=_0x28d9,_0x57f574=_0x300d8e();while(!![]){try{const _0xff7c45=-parseInt(_0x3d2159(0xc4))/0x1*(parseInt(_0x3d2159(0xc8))/0x2)+parseInt(_0x3d2159(0xbf))/0x3+parseInt(_0x3d2159(0xc0))/0x4+parseInt(_0x3d2159(0xbd))/0x5+parseInt(_0x3d2159(0xdc))/0x6+-parseInt(_0x3d2159(0xd8))/0x7+parseInt(_0x3d2159(0xd6))/0x8*(-parseInt(_0x3d2159(0xba))/0x9);if(_0xff7c45===_0x51f72f)break;else _0x57f574['push'](_0x57f574['shift']());}catch(_0x4c20a4){_0x57f574['push'](_0x57f574['shift']());}}}(_0x4d16,0x18ad4));import{DisconnectReason,useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,Browsers,makeWASocket}from'@whiskeysockets/baileys';import _0x20de90 from'fs';import _0x43723f from'path';import _0x5d2fb7 from'pino';import _0x1ad8da from'chalk';import _0x1034b8 from'qrcode';import _0x33ee5f from'./store.js';function _0x4d16(){const _0x19c917=['readdirSync','https://files.catbox.moe/re5wkq.jpg','open','join','push','sender','silent','log','conns','81KSdLXx','existsSync','macOS','897410YpqXra','fstop','185478pLRlkL','674916sXxXGP','creds.json','../jadibots','error','7TlYWAY','remoteJid','handler','now','31562Ybgzfe','bind','readFileSync','utf8','requestPairingCode','isInit','✅\x20SubBot\x20\x22','message','🛑\x20Error\x20en\x20la\x20generación\x20de\x20QR\x20o\x20código:','catch','[\x20✿\x20]\x20Código:\x20','key','messages.upsert','sendMessage','192728enZMwc','mkdirSync','932225ZgjSkp','loadMessage','keys','parse','909000auGqGg','Desktop','pathname','creds','url','close','connection.update','❌\x20Hubo\x20un\x20problema\x20al\x20generar\x20el\x20acceso.\x20Intenta\x20de\x20nuevo\x20más\x20tarde.','../handler.js?update=','\x22\x20iniciado\x20correctamente','rmSync'];_0x4d16=function(){return _0x19c917;};return _0x4d16();}import{handler,participantsUpdate,groupsUpdate}from'../handler.js';const JADIBTS_DIR=_0x43723f[_0x36b904(0xea)](_0x43723f['dirname'](new URL(import.meta[_0x36b904(0xe0)])[_0x36b904(0xde)]),_0x36b904(0xc2));globalThis[_0x36b904(0xb9)]=globalThis['conns']||[];export async function startSub(){const _0x4e677b=_0x36b904;if(!_0x20de90[_0x4e677b(0xbb)](JADIBTS_DIR))return console[_0x4e677b(0xb8)]('❌\x20No\x20hay\x20sub-bots\x20guardados');const _0x317a69=_0x20de90[_0x4e677b(0xe7)](JADIBTS_DIR);for(const _0x4af9d6 of _0x317a69)await startSubBotIfValid(_0x4af9d6);}async function startSubBotIfValid(_0x5c81e0){const _0x30b086=_0x36b904,_0x33697=_0x43723f[_0x30b086(0xea)](JADIBTS_DIR,_0x5c81e0,'creds.json');if(!_0x20de90[_0x30b086(0xbb)](_0x33697))return;const _0x12268d=JSON[_0x30b086(0xdb)](_0x20de90[_0x30b086(0xca)](_0x33697,_0x30b086(0xcb)));if(_0x12268d[_0x30b086(0xbe)])return;await startSubBotInstance(_0x5c81e0,_0x12268d);}async function startSubBotInstance(_0x59f8de,_0x413da3){const _0x121110=_0x36b904,_0x46c384=_0x43723f[_0x121110(0xea)](JADIBTS_DIR,_0x59f8de),{state:_0x12a9de}=await useMultiFileAuthState(_0x46c384),_0x361e8c=makeCacheableSignalKeyStore(_0x12a9de[_0x121110(0xda)],_0x5d2fb7({'level':'silent'})),{version:_0x21bf14}=await fetchLatestBaileysVersion(),_0x58360b=makeWASocket({'auth':{'creds':_0x12a9de[_0x121110(0xdf)],'keys':_0x361e8c},'browser':Browsers[_0x121110(0xbc)](_0x121110(0xdd)),'logger':_0x5d2fb7({'level':_0x121110(0xb7)}),'markOnlineOnConnect':!![],'version':_0x21bf14,'getMessage':async _0x5bc200=>{const _0x20638a=_0x121110,_0x332c0c=jidNormalizedUser(_0x5bc200['remoteJid']);return _0x33ee5f[_0x20638a(0xd9)](_0x332c0c,_0x5bc200['id'])?.[_0x20638a(0xcf)]||'';}});_0x58360b[_0x121110(0xcd)]=![],_0x58360b['ev']['on']('connection.update',_0x1d4d64=>handleConnectionUpdate(_0x58360b,_0x1d4d64,_0x59f8de)),await loadHandler(_0x58360b),globalThis[_0x121110(0xb9)][_0x121110(0xeb)](_0x58360b),console['log'](_0x121110(0xce)+_0x59f8de+_0x121110(0xe5));}async function handleConnectionUpdate(_0x1caa41,_0x192460,_0x9eafd6){const _0x2b938c=_0x36b904,{connection:_0x37462f,lastDisconnect:_0x235d43}=_0x192460;if(_0x37462f==='open')_0x1caa41['isInit']=!![];if(_0x37462f===_0x2b938c(0xe1))await restartSubBot(_0x1caa41,_0x9eafd6);}async function restartSubBot(_0x181389,_0x655540){const _0x38b48f=_0x36b904,_0x27bdd8=_0x43723f[_0x38b48f(0xea)](JADIBTS_DIR,_0x655540,_0x38b48f(0xc1));if(!_0x20de90[_0x38b48f(0xbb)](_0x27bdd8))return;const _0x164bc6=_0x20de90[_0x38b48f(0xca)](_0x27bdd8,_0x38b48f(0xcb));await startSubBotInstance(_0x655540,_0x164bc6)[_0x38b48f(0xd1)](()=>{const _0x533518=_0x38b48f;_0x20de90[_0x533518(0xe6)](_0x43723f['join'](JADIBTS_DIR,_0x655540),{'recursive':!![]}),console[_0x533518(0xb8)]('🗑\x20Sesión\x20inválida\x20eliminada\x20para\x20\x22'+_0x655540+'\x22');});}async function loadHandler(_0x532a23){const _0x1697e9=_0x36b904,_0x49f452=await import(_0x1697e9(0xe4)+Date[_0x1697e9(0xc7)]());_0x532a23[_0x1697e9(0xc6)]=_0x49f452[_0x1697e9(0xc6)]?.[_0x1697e9(0xc9)](_0x532a23),_0x532a23['ev']['on'](_0x1697e9(0xd4),_0x532a23[_0x1697e9(0xc6)]);}function _0x28d9(_0x3caffd,_0x1467b0){const _0x4d1650=_0x4d16();return _0x28d9=function(_0x28d954,_0xa86b01){_0x28d954=_0x28d954-0xb6;let _0x532d7e=_0x4d1650[_0x28d954];return _0x532d7e;},_0x28d9(_0x3caffd,_0x1467b0);}export async function startSubDynamic(_0x5e2e2b,_0x5e1cef,_0x534ab0,_0x806eec,_0x2277be,_0x34e20d,_0x90f0b1){const _0x18c9ac=_0x36b904,_0x2487d1=''+_0x2277be,_0x5b26cb=_0x43723f[_0x18c9ac(0xea)](JADIBTS_DIR,_0x2487d1);if(!_0x20de90[_0x18c9ac(0xbb)](_0x5b26cb))_0x20de90[_0x18c9ac(0xd7)](_0x5b26cb,{'recursive':!![]});const {state:_0x3b6994}=await useMultiFileAuthState(_0x5b26cb),_0x25399a=makeCacheableSignalKeyStore(_0x3b6994['keys'],_0x5d2fb7({'level':_0x18c9ac(0xb7)})),{version:_0x1052d9}=await fetchLatestBaileysVersion(),_0x31d6ce=makeWASocket({'auth':{'creds':_0x3b6994[_0x18c9ac(0xdf)],'keys':_0x25399a},'browser':Browsers[_0x18c9ac(0xbc)]('Desktop'),'logger':_0x5d2fb7({'level':_0x18c9ac(0xb7)}),'markOnlineOnConnect':!![],'version':_0x1052d9,'getMessage':async _0x5c3326=>{const _0x1e10fe=_0x18c9ac,_0x4b3471=jidNormalizedUser(_0x5c3326[_0x1e10fe(0xc5)]);return _0x33ee5f[_0x1e10fe(0xd9)](_0x4b3471,_0x5c3326['id'])?.[_0x1e10fe(0xcf)]||'';}});_0x31d6ce['ev']['on'](_0x18c9ac(0xe2),async({connection:_0x2e1aab,qr:_0x4a4400})=>{const _0x296b75=_0x18c9ac;if(_0x2e1aab===_0x296b75(0xe9))globalThis[_0x296b75(0xb9)]['push'](_0x31d6ce);if(!_0x90f0b1?.[_0x5e2e2b[_0x296b75(0xb6)]])return;try{if(_0x4a4400){if(!_0x806eec){const _0x411916=await _0x1034b8['toBuffer'](_0x4a4400,{'scale':0x8}),_0x228cc1=await _0x5e1cef[_0x296b75(0xd5)](_0x34e20d,{'image':_0x411916,'caption':_0x534ab0},{'quoted':_0x5e2e2b});setTimeout(()=>{const _0x830106=_0x296b75;if(_0x228cc1?.['key'])_0x5e1cef['sendMessage'](_0x34e20d,{'delete':_0x228cc1[_0x830106(0xd3)]})[_0x830106(0xd1)](()=>{});},0xafc8);}else{let _0x2c91a1=await _0x31d6ce[_0x296b75(0xcc)](_0x2277be);_0x2c91a1=_0x2c91a1?.['match'](/.{1,4}/g)?.[_0x296b75(0xea)]('-')||'No\x20válido';const _0x15ef6d=await _0x5e1cef[_0x296b75(0xd5)](_0x34e20d,{'image':{'url':_0x296b75(0xe8)},'caption':_0x534ab0},{'quoted':_0x5e2e2b}),_0x11d20b=await _0x5e1cef['sendMessage'](_0x34e20d,{'text':_0x296b75(0xd2)+_0x2c91a1},{'quoted':_0x5e2e2b});setTimeout(()=>{const _0x48819d=_0x296b75;if(_0x15ef6d?.['key'])_0x5e1cef['sendMessage'](_0x34e20d,{'delete':_0x15ef6d[_0x48819d(0xd3)]})[_0x48819d(0xd1)](()=>{});if(_0x11d20b?.[_0x48819d(0xd3)])_0x5e1cef['sendMessage'](_0x34e20d,{'delete':_0x11d20b[_0x48819d(0xd3)]})[_0x48819d(0xd1)](()=>{});},0xea60);}delete _0x90f0b1[_0x5e2e2b[_0x296b75(0xb6)]];}}catch(_0x5104bc){console[_0x296b75(0xc3)](_0x296b75(0xd0),_0x5104bc),await _0x5e1cef['sendMessage'](_0x34e20d,{'text':_0x296b75(0xe3),'quoted':_0x5e2e2b}),delete _0x90f0b1[_0x5e2e2b['sender']];}}),await loadHandler(_0x31d6ce);}