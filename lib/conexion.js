/*
   - Código realizado por: DevAlexJs
   - github.com/DevAlexJs
*/

const _0x55043f=_0x3b2f;(function(_0x55761b,_0x50d232){const _0xe0d248=_0x3b2f,_0x431938=_0x55761b();while(!![]){try{const _0x46b112=parseInt(_0xe0d248(0x8c))/0x1*(-parseInt(_0xe0d248(0xac))/0x2)+-parseInt(_0xe0d248(0xa8))/0x3*(parseInt(_0xe0d248(0xa1))/0x4)+parseInt(_0xe0d248(0x9c))/0x5+parseInt(_0xe0d248(0x98))/0x6+-parseInt(_0xe0d248(0xae))/0x7*(-parseInt(_0xe0d248(0xa6))/0x8)+-parseInt(_0xe0d248(0x9a))/0x9*(parseInt(_0xe0d248(0xa4))/0xa)+-parseInt(_0xe0d248(0x99))/0xb*(parseInt(_0xe0d248(0x93))/0xc);if(_0x46b112===_0x50d232)break;else _0x431938['push'](_0x431938['shift']());}catch(_0x1a207e){_0x431938['push'](_0x431938['shift']());}}}(_0x247c,0xdf99f));import{DisconnectReason,useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,Browsers,makeWASocket}from'@whiskeysockets/baileys';import _0x337c60 from'fs';import _0x154f88 from'path';import _0x1d0863 from'pino';import _0x404958 from'chalk';import _0x320b5d from'qrcode';import _0x49f010 from'./store.js';import _0x386010 from'node-cache';import{handler,participantsUpdate,groupsUpdate}from'../handler.js';const JADIBTS_DIR=_0x154f88[_0x55043f(0xb2)](_0x154f88[_0x55043f(0xa9)](new URL(import.meta[_0x55043f(0x8e)])['pathname']),'../'+jadi);globalThis[_0x55043f(0x94)]=globalThis[_0x55043f(0x94)]||[];export async function startSub(){const _0x48e4d7=_0x55043f;if(!_0x337c60[_0x48e4d7(0xaf)](JADIBTS_DIR))return console[_0x48e4d7(0x9f)]('❌\x20No\x20hay\x20sub-bots\x20guardados');const _0x5b87cc=_0x337c60['readdirSync'](JADIBTS_DIR);for(const _0x3a6eba of _0x5b87cc)await startSubBotIfValid(_0x3a6eba);}async function startSubBotIfValid(_0x52f333){const _0x37138e=_0x55043f,_0x231e2b=_0x154f88[_0x37138e(0xb2)](JADIBTS_DIR,_0x52f333,'creds.json');if(!_0x337c60[_0x37138e(0xaf)](_0x231e2b))return;const _0x170a89=JSON[_0x37138e(0xa0)](_0x337c60[_0x37138e(0xaa)](_0x231e2b,_0x37138e(0x84)));if(_0x170a89[_0x37138e(0x8f)])return;await startSubBotInstance(_0x52f333,_0x170a89);}async function startSubBotInstance(_0x57f392,_0x9f31ed){const _0x4a26fc=_0x55043f,_0x54675f=_0x154f88[_0x4a26fc(0xb2)](JADIBTS_DIR,_0x57f392),{state:_0x514411}=await useMultiFileAuthState(_0x54675f),_0x2d2fb8=makeCacheableSignalKeyStore(_0x514411[_0x4a26fc(0x95)],_0x1d0863({'level':_0x4a26fc(0xa3)})),{version:_0x1f16e5}=await fetchLatestBaileysVersion(),_0x2cd633=makeWASocket({'auth':{'creds':_0x514411['creds'],'keys':_0x2d2fb8},'browser':Browsers[_0x4a26fc(0x8b)](_0x4a26fc(0xb0)),'logger':_0x1d0863({'level':_0x4a26fc(0xa3)}),'markOnlineOnConnect':!![],'version':_0x1f16e5,'getMessage':async _0x1d9292=>{const _0x3f89bd=_0x4a26fc,_0x504566=jidNormalizedUser(_0x1d9292['remoteJid']);return _0x49f010[_0x3f89bd(0x96)](_0x504566,_0x1d9292['id'])?.[_0x3f89bd(0x8a)]||'';}});_0x2cd633[_0x4a26fc(0x83)]=![],_0x2cd633['ev']['on'](_0x4a26fc(0xb1),_0x55323b=>handleConnectionUpdate(_0x2cd633,_0x55323b,_0x57f392)),await loadHandler(_0x2cd633),globalThis['conns'][_0x4a26fc(0x9b)](_0x2cd633),console[_0x4a26fc(0x9f)](_0x4a26fc(0xb3)+_0x57f392+'\x22\x20iniciado\x20correctamente');}function _0x247c(){const _0x58e6d4=['log','parse','232UxtwLV','bind','silent','10nKQJcQ','../handler.js?update=','19792YOsHnt','sendMessage','8979BWATCa','dirname','readFileSync','❌\x20Hubo\x20un\x20problema\x20al\x20generar\x20el\x20acceso.\x20Intenta\x20de\x20nuevo\x20más\x20tarde.','2pAxPSO','fatal','1561KnReGw','existsSync','Desktop','connection.update','join','✅\x20SubBot\x20\x22','mkdirSync','key','sender','https://files.catbox.moe/re5wkq.jpg','creds.json','isInit','utf8','error','rmSync','creds','Chrome','catch','message','macOS','390629ktmLDZ','messages.upsert','url','fstop','[\x20✿\x20]\x20Código:\x20','close','🗑\x20Sesión\x20inválida\x20eliminada\x20para\x20\x22','24aoyAMs','conns','keys','loadMessage','open','8462268tyPjzV','9390953kjTfXh','4507857nZimBd','push','8631665jqoFUZ','requestPairingCode','handler'];_0x247c=function(){return _0x58e6d4;};return _0x247c();}function _0x3b2f(_0x25e22f,_0x3e8b75){const _0x247c61=_0x247c();return _0x3b2f=function(_0x3b2f53,_0x2a9384){_0x3b2f53=_0x3b2f53-0x7f;let _0x47c6d8=_0x247c61[_0x3b2f53];return _0x47c6d8;},_0x3b2f(_0x25e22f,_0x3e8b75);}async function handleConnectionUpdate(_0x2156ac,_0x52a5f6,_0x120969){const _0x167b68=_0x55043f,{connection:_0x351a16,lastDisconnect:_0xea1da5}=_0x52a5f6;if(_0x351a16==='open')_0x2156ac[_0x167b68(0x83)]=!![];if(_0x351a16===_0x167b68(0x91))await restartSubBot(_0x2156ac,_0x120969);}async function restartSubBot(_0x23e26b,_0x2ccd2d){const _0x31a0fa=_0x55043f,_0x17405b=_0x154f88['join'](JADIBTS_DIR,_0x2ccd2d,_0x31a0fa(0x82));if(!_0x337c60[_0x31a0fa(0xaf)](_0x17405b))return;const _0x590820=_0x337c60[_0x31a0fa(0xaa)](_0x17405b,_0x31a0fa(0x84));await startSubBotInstance(_0x2ccd2d,_0x590820)['catch'](()=>{const _0x15727b=_0x31a0fa;_0x337c60[_0x15727b(0x86)](_0x154f88[_0x15727b(0xb2)](JADIBTS_DIR,_0x2ccd2d),{'recursive':!![]}),console[_0x15727b(0x9f)](_0x15727b(0x92)+_0x2ccd2d+'\x22');});}async function loadHandler(_0x2df8af){const _0x218487=_0x55043f,_0x541ec1=await import(_0x218487(0xa5)+Date['now']());_0x2df8af['handler']=_0x541ec1[_0x218487(0x9e)]?.[_0x218487(0xa2)](_0x2df8af),_0x2df8af['ev']['on'](_0x218487(0x8d),_0x2df8af['handler']);}export async function startSubDynamic(_0x4f1151,_0x1ea7eb,_0x5968f1,_0x1622db,_0x3c4408,_0x597100,_0x559e01){const _0x3123de=_0x55043f,_0x578821=''+_0x3c4408,_0xf76de4=_0x154f88[_0x3123de(0xb2)](JADIBTS_DIR,_0x578821);if(!_0x337c60['existsSync'](_0xf76de4))_0x337c60[_0x3123de(0xb4)](_0xf76de4,{'recursive':!![]});let {version:_0x128323,isLatest:_0x35f986}=await fetchLatestBaileysVersion();const _0x260785=_0x56c80e=>{},_0x36bc20=new _0x386010(),{state:_0x15f150,saveState:_0x1ed70a,saveCreds:_0x4cd1ab}=await useMultiFileAuthState(JADIBTS_DIR),_0x97c4ea={'logger':_0x1d0863({'level':_0x3123de(0xad)}),'printQRInTerminal':![],'auth':{'creds':_0x15f150[_0x3123de(0x87)],'keys':makeCacheableSignalKeyStore(_0x15f150[_0x3123de(0x95)],_0x1d0863({'level':_0x3123de(0xa3)}))},'msgRetry':_0x260785,'msgRetryCache':_0x36bc20,'browser':mcode?Browsers[_0x3123de(0x8b)](_0x3123de(0x88)):Browsers[_0x3123de(0x8b)]('Desktop'),'version':_0x128323,'generateHighQualityLinkPreview':!![]};let _0x2a065b=makeWASocket(_0x97c4ea);socket['ev']['on'](_0x3123de(0xb1),async({connection:_0x2f80ab,qr:_0x319aed})=>{const _0x2e4f89=_0x3123de;if(_0x2f80ab===_0x2e4f89(0x97))globalThis[_0x2e4f89(0x94)][_0x2e4f89(0x9b)](socket);if(!_0x559e01?.[_0x4f1151[_0x2e4f89(0x80)]])return;try{if(_0x319aed){if(!_0x1622db){const _0x1ff380=await _0x320b5d['toBuffer'](_0x319aed,{'scale':0x8}),_0x36fe3d=await _0x1ea7eb[_0x2e4f89(0xa7)](_0x597100,{'image':_0x1ff380,'caption':_0x5968f1},{'quoted':_0x4f1151});setTimeout(()=>{const _0x479fb1=_0x2e4f89;if(_0x36fe3d?.[_0x479fb1(0x7f)])_0x1ea7eb[_0x479fb1(0xa7)](_0x597100,{'delete':_0x36fe3d['key']})[_0x479fb1(0x89)](()=>{});},0xafc8);}else{let _0x44ee2f=await _0x2a065b[_0x2e4f89(0x9d)](_0x3c4408);_0x44ee2f=_0x44ee2f?.['match'](/.{1,4}/g)?.['join']('-')||'No\x20válido';const _0x21b865=await _0x1ea7eb['sendMessage'](_0x597100,{'image':{'url':_0x2e4f89(0x81)},'caption':_0x5968f1},{'quoted':_0x4f1151}),_0x2151da=await _0x1ea7eb[_0x2e4f89(0xa7)](_0x597100,{'text':_0x2e4f89(0x90)+_0x44ee2f},{'quoted':_0x4f1151});setTimeout(()=>{const _0x28f294=_0x2e4f89;if(_0x21b865?.[_0x28f294(0x7f)])_0x1ea7eb[_0x28f294(0xa7)](_0x597100,{'delete':_0x21b865[_0x28f294(0x7f)]})[_0x28f294(0x89)](()=>{});if(_0x2151da?.[_0x28f294(0x7f)])_0x1ea7eb['sendMessage'](_0x597100,{'delete':_0x2151da[_0x28f294(0x7f)]})[_0x28f294(0x89)](()=>{});},0xea60);}delete _0x559e01[_0x4f1151[_0x2e4f89(0x80)]];}}catch(_0x165f2e){console[_0x2e4f89(0x85)]('🛑\x20Error\x20en\x20la\x20generación\x20de\x20QR\x20o\x20código:',_0x165f2e),await _0x1ea7eb[_0x2e4f89(0xa7)](_0x597100,{'text':_0x2e4f89(0xab),'quoted':_0x4f1151}),delete _0x559e01[_0x4f1151['sender']];}}),await loadHandler(socket);}