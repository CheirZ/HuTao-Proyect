/*
   - Código realizado por: DevAlexJs
   - github.com/DevAlexJs
*/

const _0x5b4e7e=_0x3d0d;(function(_0x1b2eb9,_0x5b4f54){const _0x3db220=_0x3d0d,_0x2fc2a4=_0x1b2eb9();while(!![]){try{const _0x3a6a12=-parseInt(_0x3db220(0x7d))/0x1*(-parseInt(_0x3db220(0xa4))/0x2)+-parseInt(_0x3db220(0xb0))/0x3+parseInt(_0x3db220(0xa2))/0x4+parseInt(_0x3db220(0x93))/0x5*(parseInt(_0x3db220(0x9f))/0x6)+parseInt(_0x3db220(0x99))/0x7+parseInt(_0x3db220(0x96))/0x8+-parseInt(_0x3db220(0x8e))/0x9;if(_0x3a6a12===_0x5b4f54)break;else _0x2fc2a4['push'](_0x2fc2a4['shift']());}catch(_0x3fbe93){_0x2fc2a4['push'](_0x2fc2a4['shift']());}}}(_0x5f11,0x4bd81));import{DisconnectReason,useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,Browsers,makeWASocket}from'@whiskeysockets/baileys';import _0x316045 from'fs';import _0x2c09e6 from'path';import _0x1adda7 from'pino';import _0x5d4972 from'chalk';import _0x1504f1 from'qrcode';import _0x422718 from'./store.js';import _0x51a742 from'node-cache';import{handler,participantsUpdate,groupsUpdate}from'../handler.js';const JADIBTS_DIR=_0x2c09e6[_0x5b4e7e(0xaa)](_0x2c09e6[_0x5b4e7e(0xa7)](new URL(import.meta['url'])[_0x5b4e7e(0xa0)]),'../'+jadi);globalThis[_0x5b4e7e(0x89)]=globalThis[_0x5b4e7e(0x89)]||[];export async function startSub(){const _0x40106b=_0x5b4e7e;if(!_0x316045[_0x40106b(0x9b)](JADIBTS_DIR))return console[_0x40106b(0x83)](_0x40106b(0x86));const _0x44b987=_0x316045[_0x40106b(0x87)](JADIBTS_DIR);for(const _0x2b1d86 of _0x44b987)await startSubBotIfValid(_0x2b1d86);}async function startSubBotIfValid(_0x2315b6){const _0x39c60b=_0x5b4e7e,_0x2d97f2=_0x2c09e6[_0x39c60b(0xaa)](JADIBTS_DIR,_0x2315b6,'creds.json');if(!_0x316045[_0x39c60b(0x9b)](_0x2d97f2))return;const _0x43c66c=JSON[_0x39c60b(0xa9)](_0x316045[_0x39c60b(0xae)](_0x2d97f2,_0x39c60b(0x9e)));if(_0x43c66c[_0x39c60b(0x91)])return;await startSubBotInstance(_0x2315b6,_0x43c66c);}async function startSubBotInstance(_0x4e9792,_0x1b028f){const _0x3a86f1=_0x5b4e7e,_0x24a001=_0x2c09e6['join'](JADIBTS_DIR,_0x4e9792),{state:_0x5e7ba1}=await useMultiFileAuthState(_0x24a001),_0x5a3973=makeCacheableSignalKeyStore(_0x5e7ba1['keys'],_0x1adda7({'level':_0x3a86f1(0x81)})),{version:_0x4a307f}=await fetchLatestBaileysVersion(),_0x185ba3=makeWASocket({'auth':{'creds':_0x5e7ba1[_0x3a86f1(0x9a)],'keys':_0x5a3973},'browser':Browsers[_0x3a86f1(0x85)](_0x3a86f1(0xad)),'logger':_0x1adda7({'level':_0x3a86f1(0x81)}),'markOnlineOnConnect':!![],'version':_0x4a307f,'getMessage':async _0x68d833=>{const _0x543985=_0x3a86f1,_0x1601f2=jidNormalizedUser(_0x68d833[_0x543985(0x95)]);return _0x422718[_0x543985(0x9c)](_0x1601f2,_0x68d833['id'])?.[_0x543985(0x80)]||'';}});_0x185ba3['isInit']=![],_0x185ba3['ev']['on'](_0x3a86f1(0x8c),_0x324643=>handleConnectionUpdate(_0x185ba3,_0x324643,_0x4e9792)),await loadHandler(_0x185ba3),globalThis['conns']['push'](_0x185ba3),console[_0x3a86f1(0x83)]('✅\x20SubBot\x20\x22'+_0x4e9792+'\x22\x20iniciado\x20correctamente');}async function handleConnectionUpdate(_0x15faa3,_0x291bac,_0x5157d9){const _0x5aa9c4=_0x5b4e7e,{connection:_0x183243,lastDisconnect:_0x14e5d0}=_0x291bac;if(_0x183243===_0x5aa9c4(0xa3))_0x15faa3['isInit']=!![];if(_0x183243===_0x5aa9c4(0xab))await restartSubBot(_0x15faa3,_0x5157d9);}async function restartSubBot(_0x19cceb,_0x28b76d){const _0x374044=_0x5b4e7e,_0x12bddc=_0x2c09e6[_0x374044(0xaa)](JADIBTS_DIR,_0x28b76d,_0x374044(0xaf));if(!_0x316045['existsSync'](_0x12bddc))return;const _0x256593=_0x316045[_0x374044(0xae)](_0x12bddc,_0x374044(0x9e));await startSubBotInstance(_0x28b76d,_0x256593)[_0x374044(0x7c)](()=>{const _0x61affc=_0x374044;_0x316045[_0x61affc(0x9d)](_0x2c09e6['join'](JADIBTS_DIR,_0x28b76d),{'recursive':!![]}),console['log'](_0x61affc(0x8d)+_0x28b76d+'\x22');});}function _0x5f11(){const _0x2dd9b5=['310459JJOzQn','push','sender','message','silent','bind','log','mkdirSync','macOS','❌\x20No\x20hay\x20sub-bots\x20guardados','readdirSync','messages.upsert','conns','now','sendMessage','connection.update','🗑\x20Sesión\x20inválida\x20eliminada\x20para\x20\x22','17772174jayWWe','[\x20✿\x20]\x20Código:\x20','No\x20válido','fstop','handler','5vtquLb','❌\x20Hubo\x20un\x20problema\x20al\x20generar\x20el\x20acceso.\x20Intenta\x20de\x20nuevo\x20más\x20tarde.','remoteJid','4018192HlscAy','toBuffer','requestPairingCode','1886787hYSwMb','creds','existsSync','loadMessage','rmSync','utf8','3316446XKimbu','pathname','match','1772424EQaqas','open','4jVnyVd','../handler.js?update=','key','dirname','Chrome','parse','join','close','error','Desktop','readFileSync','creds.json','309711mtxTJn','catch'];_0x5f11=function(){return _0x2dd9b5;};return _0x5f11();}function _0x3d0d(_0x1ad908,_0x29d295){const _0x5f1176=_0x5f11();return _0x3d0d=function(_0x3d0d35,_0x1b3fa5){_0x3d0d35=_0x3d0d35-0x7c;let _0x2fca7c=_0x5f1176[_0x3d0d35];return _0x2fca7c;},_0x3d0d(_0x1ad908,_0x29d295);}async function loadHandler(_0x13217f){const _0x351108=_0x5b4e7e,_0x2e42fd=await import(_0x351108(0xa5)+Date[_0x351108(0x8a)]());_0x13217f[_0x351108(0x92)]=_0x2e42fd[_0x351108(0x92)]?.[_0x351108(0x82)](_0x13217f),_0x13217f['ev']['on'](_0x351108(0x88),_0x13217f['handler']);}export async function startSubDynamic(_0x557803,_0x44beb2,_0x69cced,_0x1284a5,_0x1eef51,_0xb6cbef,_0x32582a){const _0x2ed399=_0x5b4e7e,_0x5c66cf=''+_0x1eef51,_0xb78ed0=_0x2c09e6[_0x2ed399(0xaa)](JADIBTS_DIR,_0x5c66cf);if(!_0x316045['existsSync'](_0xb78ed0))_0x316045[_0x2ed399(0x84)](_0xb78ed0,{'recursive':!![]});let {version:_0x5d4173,isLatest:_0xa72368}=await fetchLatestBaileysVersion();const _0x36d588=_0x3332a6=>{},_0x5ff966=new _0x51a742(),{state:_0x39e76c,saveState:_0x36ef4c,saveCreds:_0x23142d}=await useMultiFileAuthState(JADIBTS_DIR),_0x3d4ed2={'logger':_0x1adda7({'level':'fatal'}),'printQRInTerminal':![],'auth':{'creds':_0x39e76c['creds'],'keys':makeCacheableSignalKeyStore(_0x39e76c['keys'],_0x1adda7({'level':'silent'}))},'msgRetry':_0x36d588,'msgRetryCache':_0x5ff966,'browser':Browsers[_0x2ed399(0x85)](_0x2ed399(0xa8)),'version':_0x5d4173,'generateHighQualityLinkPreview':!![]};let _0x88c1=makeWASocket(_0x3d4ed2);socket['ev']['on'](_0x2ed399(0x8c),async({connection:_0x20262b,qr:_0x539c7a})=>{const _0xd34b8b=_0x2ed399;if(_0x20262b==='open')globalThis[_0xd34b8b(0x89)][_0xd34b8b(0x7e)](socket);if(!_0x32582a?.[_0x557803[_0xd34b8b(0x7f)]])return;try{if(_0x539c7a){if(!_0x1284a5){const _0xcd2a7f=await _0x1504f1[_0xd34b8b(0x97)](_0x539c7a,{'scale':0x8}),_0x20393e=await _0x44beb2[_0xd34b8b(0x8b)](_0xb6cbef,{'image':_0xcd2a7f,'caption':_0x69cced},{'quoted':_0x557803});setTimeout(()=>{const _0x6cdebd=_0xd34b8b;if(_0x20393e?.[_0x6cdebd(0xa6)])_0x44beb2[_0x6cdebd(0x8b)](_0xb6cbef,{'delete':_0x20393e[_0x6cdebd(0xa6)]})[_0x6cdebd(0x7c)](()=>{});},0xafc8);}else{let _0x544172=await _0x88c1[_0xd34b8b(0x98)](_0x1eef51);_0x544172=_0x544172?.[_0xd34b8b(0xa1)](/.{1,4}/g)?.['join']('-')||_0xd34b8b(0x90);const _0x2642c9=await _0x44beb2[_0xd34b8b(0x8b)](_0xb6cbef,{'image':{'url':'https://files.catbox.moe/re5wkq.jpg'},'caption':_0x69cced},{'quoted':_0x557803}),_0x571dc9=await _0x44beb2[_0xd34b8b(0x8b)](_0xb6cbef,{'text':_0xd34b8b(0x8f)+_0x544172},{'quoted':_0x557803});setTimeout(()=>{const _0x4b4f9f=_0xd34b8b;if(_0x2642c9?.['key'])_0x44beb2['sendMessage'](_0xb6cbef,{'delete':_0x2642c9['key']})[_0x4b4f9f(0x7c)](()=>{});if(_0x571dc9?.['key'])_0x44beb2['sendMessage'](_0xb6cbef,{'delete':_0x571dc9[_0x4b4f9f(0xa6)]})[_0x4b4f9f(0x7c)](()=>{});},0xea60);}delete _0x32582a[_0x557803[_0xd34b8b(0x7f)]];}}catch(_0x497ddd){console[_0xd34b8b(0xac)]('🛑\x20Error\x20en\x20la\x20generación\x20de\x20QR\x20o\x20código:',_0x497ddd),await _0x44beb2[_0xd34b8b(0x8b)](_0xb6cbef,{'text':_0xd34b8b(0x94),'quoted':_0x557803}),delete _0x32582a[_0x557803[_0xd34b8b(0x7f)]];}}),await loadHandler(socket);}