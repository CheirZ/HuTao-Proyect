/*
   - Código realizado por: DevAlexJs
   - github.com/DevAlexJs
*/

const _0x4b33fe=_0x21ee;(function(_0x5da5e5,_0x9bb36d){const _0x1d43af=_0x21ee,_0x48f047=_0x5da5e5();while(!![]){try{const _0xcc4b8=-parseInt(_0x1d43af(0x1fb))/0x1*(parseInt(_0x1d43af(0x1f4))/0x2)+parseInt(_0x1d43af(0x1ff))/0x3*(-parseInt(_0x1d43af(0x1e6))/0x4)+parseInt(_0x1d43af(0x1f2))/0x5*(-parseInt(_0x1d43af(0x206))/0x6)+-parseInt(_0x1d43af(0x1ec))/0x7+parseInt(_0x1d43af(0x1da))/0x8*(parseInt(_0x1d43af(0x1e7))/0x9)+parseInt(_0x1d43af(0x1e2))/0xa+parseInt(_0x1d43af(0x205))/0xb;if(_0xcc4b8===_0x9bb36d)break;else _0x48f047['push'](_0x48f047['shift']());}catch(_0x5093f){_0x48f047['push'](_0x48f047['shift']());}}}(_0x3f05,0xaad7d));import{DisconnectReason,useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,Browsers,makeWASocket}from'@whiskeysockets/baileys';import _0x27496d from'fs';import _0x2b890d from'path';import _0x2ca07c from'pino';import _0xbf3e18 from'chalk';import _0x1f1ff8 from'qrcode';import _0x5ae198 from'./store.js';import _0x490066 from'node-cache';function _0x21ee(_0x1a10e6,_0x397824){const _0x3f054b=_0x3f05();return _0x21ee=function(_0x21eecc,_0x52d86e){_0x21eecc=_0x21eecc-0x1d4;let _0xe108ee=_0x3f054b[_0x21eecc];return _0xe108ee;},_0x21ee(_0x1a10e6,_0x397824);}import{handler,participantsUpdate,groupsUpdate}from'../handler.js';const JADIBTS_DIR=_0x2b890d[_0x4b33fe(0x204)](_0x2b890d['dirname'](new URL(import.meta[_0x4b33fe(0x1e4)])['pathname']),_0x4b33fe(0x20f)+jadi);globalThis[_0x4b33fe(0x1fc)]=globalThis[_0x4b33fe(0x1fc)]||[];export async function startSub(){const _0x12ee2f=_0x4b33fe;if(!_0x27496d[_0x12ee2f(0x203)](JADIBTS_DIR))return console['log'](_0x12ee2f(0x1f5));const _0x32800d=_0x27496d[_0x12ee2f(0x207)](JADIBTS_DIR);for(const _0x5d8a39 of _0x32800d)await startSubBotIfValid(_0x5d8a39);}async function startSubBotIfValid(_0x1c0b07){const _0x3b13a1=_0x4b33fe,_0x3d9480=_0x2b890d[_0x3b13a1(0x204)](JADIBTS_DIR,_0x1c0b07,'creds.json');if(!_0x27496d['existsSync'](_0x3d9480))return;const _0xfdbfb3=JSON['parse'](_0x27496d[_0x3b13a1(0x1dc)](_0x3d9480,_0x3b13a1(0x20e)));if(_0xfdbfb3['fstop'])return;await startSubBotInstance(_0x1c0b07,_0xfdbfb3);}async function startSubBotInstance(_0x21a631,_0x5ddcc0){const _0xc90500=_0x4b33fe,_0x22da33=_0x2b890d[_0xc90500(0x204)](JADIBTS_DIR,_0x21a631),{state:_0x2b3aeb}=await useMultiFileAuthState(_0x22da33),_0x25935b=makeCacheableSignalKeyStore(_0x2b3aeb[_0xc90500(0x1e5)],_0x2ca07c({'level':_0xc90500(0x1fd)})),{version:_0x5949b2}=await fetchLatestBaileysVersion(),_0x222b01=makeWASocket({'auth':{'creds':_0x2b3aeb['creds'],'keys':_0x25935b},'browser':Browsers[_0xc90500(0x20d)](_0xc90500(0x209)),'logger':_0x2ca07c({'level':_0xc90500(0x1fd)}),'markOnlineOnConnect':!![],'version':_0x5949b2,'getMessage':async _0x1a96b9=>{const _0x136a6c=_0xc90500,_0x594236=jidNormalizedUser(_0x1a96b9[_0x136a6c(0x1e0)]);return _0x5ae198[_0x136a6c(0x1dd)](_0x594236,_0x1a96b9['id'])?.[_0x136a6c(0x1f6)]||'';}});_0x222b01['isInit']=![],_0x222b01['ev']['on'](_0xc90500(0x1fe),_0x16a820=>handleConnectionUpdate(_0x222b01,_0x16a820,_0x21a631)),await loadHandler(_0x222b01),globalThis[_0xc90500(0x1fc)][_0xc90500(0x215)](_0x222b01),console[_0xc90500(0x1d7)]('✅\x20SubBot\x20\x22'+_0x21a631+_0xc90500(0x1f3));}async function handleConnectionUpdate(_0x48c643,_0x1d9441,_0x190fe0){const _0x571ef0=_0x4b33fe,{connection:_0x2b6758,lastDisconnect:_0x3d7b02}=_0x1d9441;if(_0x2b6758==='open')_0x48c643[_0x571ef0(0x202)]=!![];if(_0x2b6758===_0x571ef0(0x1ed))await restartSubBot(_0x48c643,_0x190fe0);}function _0x3f05(){const _0x23572c=['toBuffer','macOS','utf8','../','fatal','creds','userId','../handler.js?update=','sender','push','now','user','requestPairingCode','log','chat','mkdirSync','11135848RwfkGL','sendMessage','readFileSync','loadMessage','\x0a✅\x20SUB-BOT\x20CONECTADO:\x20','messages.upsert','remoteJid','cyanBright','9738560MZuKbO','🗑\x20Sesión\x20inválida\x20eliminada\x20para\x20\x22','url','keys','948yPkfYf','9uqLVxO','bind','⏳\x20Reconectando\x20a:\x20','rmSync','❌\x20Hubo\x20un\x20problema\x20al\x20generar\x20el\x20acceso.\x20Intenta\x20de\x20nuevo\x20más\x20tarde.','1473080yiwkWQ','close','magentaBright','https://files.catbox.moe/re5wkq.jpg','key','find','433465OxMYrJ','\x22\x20iniciado\x20correctamente','392mWlZuH','❌\x20No\x20hay\x20sub-bots\x20guardados','message','creds.json','handler','catch','bold','1238kwHZDj','conns','silent','connection.update','4506zqgLvu','error','🛑\x20Error\x20en\x20la\x20generación\x20de\x20QR\x20o\x20código:','isInit','existsSync','join','4877323hyFBTX','90BPifSZ','readdirSync','open','Desktop','match','name'];_0x3f05=function(){return _0x23572c;};return _0x3f05();}async function restartSubBot(_0x173743,_0x58a5f2){const _0xadef41=_0x4b33fe,_0x38ec3e=_0x2b890d[_0xadef41(0x204)](JADIBTS_DIR,_0x58a5f2,_0xadef41(0x1f7));if(!_0x27496d[_0xadef41(0x203)](_0x38ec3e))return;const _0x1e38f9=_0x27496d[_0xadef41(0x1dc)](_0x38ec3e,'utf8');await startSubBotInstance(_0x58a5f2,_0x1e38f9)[_0xadef41(0x1f9)](()=>{const _0x5ac07b=_0xadef41;_0x27496d[_0x5ac07b(0x1ea)](_0x2b890d['join'](JADIBTS_DIR,_0x58a5f2),{'recursive':!![]}),console[_0x5ac07b(0x1d7)](_0x5ac07b(0x1e3)+_0x58a5f2+'\x22');});}async function loadHandler(_0x3881f2){const _0x35a1ea=_0x4b33fe,_0x7d8ba7=await import(_0x35a1ea(0x213)+Date[_0x35a1ea(0x1d4)]());_0x3881f2[_0x35a1ea(0x1f8)]=_0x7d8ba7[_0x35a1ea(0x1f8)]?.[_0x35a1ea(0x1e8)](_0x3881f2),_0x3881f2['ev']['on'](_0x35a1ea(0x1df),_0x3881f2[_0x35a1ea(0x1f8)]);}export async function startSubDynamic(_0x312500,_0x190983,_0x30b88f,_0xc2752,_0x3323a9,_0x1fc0dd,_0x46bb00){const _0x75f0=_0x4b33fe,_0x99ab59=''+_0x3323a9,_0x5408cc=_0x2b890d['join'](JADIBTS_DIR,_0x99ab59);if(!_0x27496d[_0x75f0(0x203)](_0x5408cc))_0x27496d[_0x75f0(0x1d9)](_0x5408cc,{'recursive':!![]});let {version:_0x38d256,isLatest:_0xd49c1e}=await fetchLatestBaileysVersion();const _0x790ab=_0x1ed677=>{},_0x57afb4=new _0x490066(),{state:_0x416ef3,saveState:_0x294ac7,saveCreds:_0x44b97b}=await useMultiFileAuthState(JADIBTS_DIR),_0x4b1d8a={'logger':_0x2ca07c({'level':_0x75f0(0x210)}),'printQRInTerminal':![],'auth':{'creds':_0x416ef3[_0x75f0(0x211)],'keys':makeCacheableSignalKeyStore(_0x416ef3[_0x75f0(0x1e5)],_0x2ca07c({'level':_0x75f0(0x1fd)}))},'msgRetry':_0x790ab,'msgRetryCache':_0x57afb4,'browser':Browsers[_0x75f0(0x20d)]('Chrome'),'version':_0x38d256,'generateHighQualityLinkPreview':!![]};let _0x4b44d4=makeWASocket(_0x4b1d8a);sock['ev']['on'](_0x75f0(0x1fe),async({connection:_0x1dc18c,lastDisconnect:_0x4d29f3,isNewLogin:_0x33716b,qr:_0x33ae2b})=>{const _0xe88585=_0x75f0;if(_0x33716b)sock[_0xe88585(0x202)]=![];if(_0x1dc18c===_0xe88585(0x208)){sock[_0xe88585(0x202)]=!![],sock[_0xe88585(0x212)]=cleanJid(sock[_0xe88585(0x1d5)]?.['id']?.['split']('@')[0x0]);const _0x5dde7c=sock['authState']['creds']['me']?.[_0xe88585(0x20b)]||'-';sock['uptime']=Date[_0xe88585(0x1d4)](),reintentos[sock[_0xe88585(0x212)]]=0x0;if(globalThis['conns'][_0xe88585(0x1f1)](_0x1eb450=>_0x1eb450[_0xe88585(0x212)]===sock[_0xe88585(0x212)]))return;globalThis[_0xe88585(0x1fc)][_0xe88585(0x215)](sock),_0x312500&&_0x190983&&_0xc2752&&commandFlags[senderId]&&(_0x190983[_0xe88585(0x1db)](_0x312500[_0xe88585(0x1d8)],{'text':'*Conectado\x20exitosamente\x20con\x20WhatsApp\x20✅*'},{'quoted':_0x312500}),delete commandFlags[senderId]),console[_0xe88585(0x1d7)](_0xbf3e18[_0xe88585(0x1fa)][_0xe88585(0x1e1)](_0xe88585(0x1de)+sock[_0xe88585(0x212)]+'\x20'));}if(_0x1dc18c===_0xe88585(0x1ed)){const _0x183e84=sock[_0xe88585(0x212)]||id;console[_0xe88585(0x1d7)](_0xbf3e18[_0xe88585(0x1fa)][_0xe88585(0x1ee)](_0xe88585(0x1e9)+_0x183e84)),setTimeout(()=>{startSubBot(_0x312500,_0x190983,_0x30b88f,_0xc2752,_0x3323a9,_0x1fc0dd,{});},wait);return;}if(!_0x46bb00?.[_0x312500['sender']])return;try{if(_0x33ae2b){if(!_0xc2752){const _0x5457cc=await _0x1f1ff8[_0xe88585(0x20c)](_0x33ae2b,{'scale':0x8}),_0x188226=await _0x190983[_0xe88585(0x1db)](_0x1fc0dd,{'image':_0x5457cc,'caption':_0x30b88f},{'quoted':_0x312500});setTimeout(()=>{const _0x4510ca=_0xe88585;if(_0x188226?.[_0x4510ca(0x1f0)])_0x190983[_0x4510ca(0x1db)](_0x1fc0dd,{'delete':_0x188226[_0x4510ca(0x1f0)]})[_0x4510ca(0x1f9)](()=>{});},0xafc8);}else{let _0x346512=await _0x4b44d4[_0xe88585(0x1d6)](_0x3323a9);_0x346512=_0x346512?.[_0xe88585(0x20a)](/.{1,4}/g)?.['join']('-')||'No\x20válido';const _0x18debb=await _0x190983[_0xe88585(0x1db)](_0x1fc0dd,{'image':{'url':_0xe88585(0x1ef)},'caption':_0x30b88f},{'quoted':_0x312500}),_0x15b603=await _0x190983[_0xe88585(0x1db)](_0x1fc0dd,{'text':'[\x20✿\x20]\x20Código:\x20'+_0x346512},{'quoted':_0x312500});setTimeout(()=>{const _0x482020=_0xe88585;if(_0x18debb?.['key'])_0x190983['sendMessage'](_0x1fc0dd,{'delete':_0x18debb[_0x482020(0x1f0)]})[_0x482020(0x1f9)](()=>{});if(_0x15b603?.[_0x482020(0x1f0)])_0x190983['sendMessage'](_0x1fc0dd,{'delete':_0x15b603[_0x482020(0x1f0)]})[_0x482020(0x1f9)](()=>{});},0xea60);}delete _0x46bb00[_0x312500['sender']];}}catch(_0xabf7ae){console[_0xe88585(0x200)](_0xe88585(0x201),_0xabf7ae),await _0x190983[_0xe88585(0x1db)](_0x1fc0dd,{'text':_0xe88585(0x1eb),'quoted':_0x312500}),delete _0x46bb00[_0x312500[_0xe88585(0x214)]];}}),await loadHandler(_0x4b44d4);}