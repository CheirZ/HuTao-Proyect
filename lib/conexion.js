/*
   - Código realizado por: DevAlexJs
   - github.com/DevAlexJs
*/

const _0x15d1f9=_0x2343;(function(_0x2d7647,_0x42fbd3){const _0x260fdf=_0x2343,_0x507488=_0x2d7647();while(!![]){try{const _0x58c79f=-parseInt(_0x260fdf(0x202))/0x1*(parseInt(_0x260fdf(0x1f1))/0x2)+parseInt(_0x260fdf(0x1ed))/0x3*(parseInt(_0x260fdf(0x204))/0x4)+-parseInt(_0x260fdf(0x20b))/0x5+-parseInt(_0x260fdf(0x1de))/0x6*(-parseInt(_0x260fdf(0x210))/0x7)+parseInt(_0x260fdf(0x1e5))/0x8+-parseInt(_0x260fdf(0x1e9))/0x9*(parseInt(_0x260fdf(0x1f3))/0xa)+parseInt(_0x260fdf(0x1df))/0xb;if(_0x58c79f===_0x42fbd3)break;else _0x507488['push'](_0x507488['shift']());}catch(_0x5b2aa8){_0x507488['push'](_0x507488['shift']());}}}(_0x3240,0xf3161));import{DisconnectReason,useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,Browsers,makeWASocket}from'@whiskeysockets/baileys';import _0x311549 from'fs';import _0x35682e from'path';import _0x44f012 from'pino';import _0x1a123f from'chalk';import _0x2c62ca from'qrcode';import _0x565dea from'./store.js';import _0x1d9a68 from'node-cache';import{handler,participantsUpdate,groupsUpdate}from'../handler.js';const JADIBTS_DIR=_0x35682e['join'](_0x35682e['dirname'](new URL(import.meta[_0x15d1f9(0x1fb)])[_0x15d1f9(0x1ee)]),_0x15d1f9(0x1e4)+jadi);globalThis[_0x15d1f9(0x1f4)]=globalThis['conns']||[];export async function startSub(){const _0x15610e=_0x15d1f9;if(!_0x311549[_0x15610e(0x1dd)](JADIBTS_DIR))return console[_0x15610e(0x203)]('❌\x20No\x20hay\x20sub-bots\x20guardados');const _0x468874=_0x311549[_0x15610e(0x1fa)](JADIBTS_DIR);for(const _0x289c57 of _0x468874)await startSubBotIfValid(_0x289c57);}function _0x2343(_0x2e05aa,_0xb1991e){const _0x32409d=_0x3240();return _0x2343=function(_0x23432b,_0x2bd600){_0x23432b=_0x23432b-0x1dd;let _0x1663c2=_0x32409d[_0x23432b];return _0x1663c2;},_0x2343(_0x2e05aa,_0xb1991e);}async function startSubBotIfValid(_0x435efb){const _0x12566f=_0x15d1f9,_0x3c65bd=_0x35682e[_0x12566f(0x1fd)](JADIBTS_DIR,_0x435efb,'creds.json');if(!_0x311549[_0x12566f(0x1dd)](_0x3c65bd))return;const _0xbd94b4=JSON[_0x12566f(0x206)](_0x311549[_0x12566f(0x20d)](_0x3c65bd,_0x12566f(0x1e7)));if(_0xbd94b4['fstop'])return;await startSubBotInstance(_0x435efb,_0xbd94b4);}async function startSubBotInstance(_0x1f4eca,_0x59476b){const _0x57717c=_0x15d1f9,_0x5d0599=_0x35682e[_0x57717c(0x1fd)](JADIBTS_DIR,_0x1f4eca),{state:_0x4b51b3}=await useMultiFileAuthState(_0x5d0599),_0x1d0363=makeCacheableSignalKeyStore(_0x4b51b3['keys'],_0x44f012({'level':_0x57717c(0x1f2)})),{version:_0x3aab77}=await fetchLatestBaileysVersion(),_0x540879=makeWASocket({'auth':{'creds':_0x4b51b3[_0x57717c(0x1e3)],'keys':_0x1d0363},'browser':Browsers['macOS']('Desktop'),'logger':_0x44f012({'level':'silent'}),'markOnlineOnConnect':!![],'version':_0x3aab77,'getMessage':async _0x51e3f7=>{const _0x578d95=_0x57717c,_0x2ab0e4=jidNormalizedUser(_0x51e3f7['remoteJid']);return _0x565dea[_0x578d95(0x1ec)](_0x2ab0e4,_0x51e3f7['id'])?.['message']||'';}});_0x540879[_0x57717c(0x1e1)]=![],_0x540879['ev']['on'](_0x57717c(0x1f6),_0x3ee73e=>handleConnectionUpdate(_0x540879,_0x3ee73e,_0x1f4eca)),await loadHandler(_0x540879),globalThis['conns']['push'](_0x540879),console[_0x57717c(0x203)]('✅\x20SubBot\x20\x22'+_0x1f4eca+_0x57717c(0x20e));}async function handleConnectionUpdate(_0x298e6f,_0x21fec3,_0x3874d0){const _0x1c0214=_0x15d1f9,{connection:_0x5e738e,lastDisconnect:_0x6a7993}=_0x21fec3;if(_0x5e738e===_0x1c0214(0x1ef))_0x298e6f[_0x1c0214(0x1e1)]=!![];if(_0x5e738e===_0x1c0214(0x1e8))await restartSubBot(_0x298e6f,_0x3874d0);}function _0x3240(){const _0x4e606f=['bind','messages.upsert','rmSync','3985615QjSZUF','keys','readFileSync','\x22\x20iniciado\x20correctamente','macOS','854kAiOIH','existsSync','44196lkNxXQ','6684810HpPrYk','push','isInit','toBuffer','creds','../','3652384OUvVHS','https://files.catbox.moe/re5wkq.jpg','utf8','close','5034537BAcENq','No\x20válido','sendMessage','loadMessage','127458nDyQvv','pathname','open','🗑\x20Sesión\x20inválida\x20eliminada\x20para\x20\x22','2110474nLwiaQ','silent','10ArAqBO','conns','../handler.js?update=','connection.update','[\x20✿\x20]\x20Código:\x20','mkdirSync','sender','readdirSync','url','catch','join','handler','key','❌\x20Hubo\x20un\x20problema\x20al\x20generar\x20el\x20acceso.\x20Intenta\x20de\x20nuevo\x20más\x20tarde.','error','1xYegFt','log','136cnxaiy','now','parse','match'];_0x3240=function(){return _0x4e606f;};return _0x3240();}async function restartSubBot(_0x4fbcc9,_0x13a98a){const _0x425f9c=_0x15d1f9,_0x4b7265=_0x35682e[_0x425f9c(0x1fd)](JADIBTS_DIR,_0x13a98a,'creds.json');if(!_0x311549[_0x425f9c(0x1dd)](_0x4b7265))return;const _0x2d07cb=_0x311549[_0x425f9c(0x20d)](_0x4b7265,_0x425f9c(0x1e7));await startSubBotInstance(_0x13a98a,_0x2d07cb)[_0x425f9c(0x1fc)](()=>{const _0x354420=_0x425f9c;_0x311549[_0x354420(0x20a)](_0x35682e[_0x354420(0x1fd)](JADIBTS_DIR,_0x13a98a),{'recursive':!![]}),console[_0x354420(0x203)](_0x354420(0x1f0)+_0x13a98a+'\x22');});}async function loadHandler(_0x433716){const _0x48a41e=_0x15d1f9,_0x434960=await import(_0x48a41e(0x1f5)+Date[_0x48a41e(0x205)]());_0x433716[_0x48a41e(0x1fe)]=_0x434960[_0x48a41e(0x1fe)]?.[_0x48a41e(0x208)](_0x433716),_0x433716['ev']['on'](_0x48a41e(0x209),_0x433716[_0x48a41e(0x1fe)]);}export async function startSubDynamic(_0x11be47,_0x263c92,_0x31b7a6,_0x17c1d2,_0x44c65a,_0x590284,_0xbcc1e4){const _0x3023ba=_0x15d1f9,_0x378541=''+_0x44c65a,_0x45bdef=_0x35682e['join'](JADIBTS_DIR,_0x378541);if(!_0x311549['existsSync'](_0x45bdef))_0x311549[_0x3023ba(0x1f8)](_0x45bdef,{'recursive':!![]});let {version:_0xa64039,isLatest:_0x2465cf}=await fetchLatestBaileysVersion();const _0xec0bec=_0x582a87=>{},_0x4be575=new _0x1d9a68(),{state:_0x31cffc,saveState:_0x391839,saveCreds:_0x4ce547}=await useMultiFileAuthState(JADIBTS_DIR),_0x364a07={'logger':_0x44f012({'level':'fatal'}),'printQRInTerminal':![],'auth':{'creds':_0x31cffc[_0x3023ba(0x1e3)],'keys':makeCacheableSignalKeyStore(_0x31cffc[_0x3023ba(0x20c)],_0x44f012({'level':_0x3023ba(0x1f2)}))},'msgRetry':_0xec0bec,'msgRetryCache':_0x4be575,'browser':Browsers[_0x3023ba(0x20f)]('Chrome'),'version':_0xa64039,'generateHighQualityLinkPreview':!![]};let _0x253fc2=makeWASocket(_0x364a07);_0x253fc2['ev']['on'](_0x3023ba(0x1f6),async({connection:_0x3de0c1,qr:_0x1a39b5})=>{const _0x505b00=_0x3023ba;if(_0x3de0c1===_0x505b00(0x1ef))globalThis[_0x505b00(0x1f4)][_0x505b00(0x1e0)](_0x253fc2);if(!_0xbcc1e4?.[_0x11be47[_0x505b00(0x1f9)]])return;try{if(_0x1a39b5){if(!_0x17c1d2){const _0x5911a3=await _0x2c62ca[_0x505b00(0x1e2)](_0x1a39b5,{'scale':0x8}),_0x1534a3=await _0x263c92[_0x505b00(0x1eb)](_0x590284,{'image':_0x5911a3,'caption':_0x31b7a6},{'quoted':_0x11be47});setTimeout(()=>{const _0x449d16=_0x505b00;if(_0x1534a3?.[_0x449d16(0x1ff)])_0x263c92[_0x449d16(0x1eb)](_0x590284,{'delete':_0x1534a3[_0x449d16(0x1ff)]})[_0x449d16(0x1fc)](()=>{});},0xafc8);}else{let _0x4ecbd6=await _0x253fc2['requestPairingCode'](_0x44c65a);_0x4ecbd6=_0x4ecbd6?.[_0x505b00(0x207)](/.{1,4}/g)?.[_0x505b00(0x1fd)]('-')||_0x505b00(0x1ea);const _0x483914=await _0x263c92[_0x505b00(0x1eb)](_0x590284,{'image':{'url':_0x505b00(0x1e6)},'caption':_0x31b7a6},{'quoted':_0x11be47}),_0x4eb1b0=await _0x263c92[_0x505b00(0x1eb)](_0x590284,{'text':_0x505b00(0x1f7)+_0x4ecbd6},{'quoted':_0x11be47});setTimeout(()=>{const _0x228e18=_0x505b00;if(_0x483914?.[_0x228e18(0x1ff)])_0x263c92['sendMessage'](_0x590284,{'delete':_0x483914[_0x228e18(0x1ff)]})[_0x228e18(0x1fc)](()=>{});if(_0x4eb1b0?.['key'])_0x263c92[_0x228e18(0x1eb)](_0x590284,{'delete':_0x4eb1b0[_0x228e18(0x1ff)]})[_0x228e18(0x1fc)](()=>{});},0xea60);}delete _0xbcc1e4[_0x11be47[_0x505b00(0x1f9)]];}}catch(_0x4a2236){console[_0x505b00(0x201)]('🛑\x20Error\x20en\x20la\x20generación\x20de\x20QR\x20o\x20código:',_0x4a2236),await _0x263c92[_0x505b00(0x1eb)](_0x590284,{'text':_0x505b00(0x200),'quoted':_0x11be47}),delete _0xbcc1e4[_0x11be47[_0x505b00(0x1f9)]];}}),await loadHandler(_0x253fc2);}